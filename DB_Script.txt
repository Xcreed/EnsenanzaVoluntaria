CREATE TABLE CALIFICACION_TUTORIA
( 
	ID_CALIFICACION_TUTORIA integer IDENTITY ( 1,1 ) ,
	CALIFICACION         numeric(5)  NULL ,
	ID_TUTORIA_CURSOS    integer  NULL ,
	ID_USUARIO           integer  NULL 
)
go



ALTER TABLE CALIFICACION_TUTORIA
	ADD CONSTRAINT XPKCALIFICACION_TUTORIA PRIMARY KEY  CLUSTERED (ID_CALIFICACION_TUTORIA ASC)
go



CREATE TABLE CANTON
( 
	ID_CANTON            integer IDENTITY ( 1,1 ) ,
	DES_CANTON           varchar(20)  NULL ,
	ID_PROVINCIA         integer  NULL 
)
go



ALTER TABLE CANTON
	ADD CONSTRAINT XPKCANTON PRIMARY KEY  CLUSTERED (ID_CANTON ASC)
go



CREATE TABLE CURSOS
( 
	ID_CURSO             integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(20)  NULL 
)
go



ALTER TABLE CURSOS
	ADD CONSTRAINT XPKCURSOS PRIMARY KEY  CLUSTERED (ID_CURSO ASC)
go



CREATE TABLE DETALLE_DIRECCION__INSTITUCION
( 
	ID_DETALLE           integer IDENTITY ( 1,1 ) ,
	DETALLE_DIRECCION    varchar(50)  NULL ,
	ID_INSTITUCION       integer  NULL ,
	ID_DISTRITO          integer  NULL 
)
go



ALTER TABLE DETALLE_DIRECCION__INSTITUCION
	ADD CONSTRAINT XPKDETALLE_DIRECCION__INSTITUCION PRIMARY KEY  CLUSTERED (ID_DETALLE ASC)
go



CREATE TABLE DETALLE_DIRECCION__USUARIO
( 
	ID_DETALLE           integer IDENTITY ( 1,1 ) ,
	DETALLE_DIRECCION    varchar(50)  NOT NULL ,
	ID_DISTRITO          integer  NULL ,
	ID_USUARIO           integer  NULL 
)
go



ALTER TABLE DETALLE_DIRECCION__USUARIO
	ADD CONSTRAINT XPKDETALLE_DIRECCION__USUARIO PRIMARY KEY  CLUSTERED (ID_DETALLE ASC)
go



CREATE TABLE DISTRITO
( 
	ID_DISTRITO          integer IDENTITY ( 1,1 ) ,
	DES_DISTRITO         varchar(20)  NULL ,
	ID_CANTON            integer  NULL 
)
go



ALTER TABLE DISTRITO
	ADD CONSTRAINT XPKDISTRITO PRIMARY KEY  CLUSTERED (ID_DISTRITO ASC)
go



CREATE TABLE INSTITUCION
( 
	ID_INSTITUCION       integer IDENTITY ( 1,1 ) NOT FOR REPLICATION ,
	NOMBRE               varchar(200)  NOT NULL 
)
go



ALTER TABLE INSTITUCION
	ADD CONSTRAINT XPKINSTITUCION PRIMARY KEY  CLUSTERED (ID_INSTITUCION ASC)
go



CREATE TABLE MATERIAL_TUTORIA
( 
	ID_MATERIAL_TUTORIA  integer IDENTITY ( 1,1 ) ,
	ID_TUTORIA_CURSOS    integer  NULL ,
	DIRECCION_ARCHIVO    varchar(500)  NOT NULL 
)
go



ALTER TABLE MATERIAL_TUTORIA
	ADD CONSTRAINT XPKMATERIAL_TUTORIA PRIMARY KEY  CLUSTERED (ID_MATERIAL_TUTORIA ASC)
go



CREATE TABLE PAIS
( 
	ID_PAIS              integer IDENTITY ( 1,1 ) ,
	DES_PAIS             varchar(20)  NULL 
)
go



ALTER TABLE PAIS
	ADD CONSTRAINT XPKPAIS PRIMARY KEY  CLUSTERED (ID_PAIS ASC)
go



CREATE TABLE PROVINCIA
( 
	ID_PROVINCIA         integer IDENTITY ( 1,1 ) ,
	DES_PROVINCIA        varchar(20)  NULL ,
	ID_PAIS              integer  NULL 
)
go



ALTER TABLE PROVINCIA
	ADD CONSTRAINT XPKPROVINCIA PRIMARY KEY  CLUSTERED (ID_PROVINCIA ASC)
go



CREATE TABLE ROLES
( 
	ID_ROLES             integer IDENTITY ( 1,1 ) ,
	DESCRIPCION_ROL      varchar(200)  NOT NULL 
)
go



ALTER TABLE ROLES
	ADD CONSTRAINT XPKROLES PRIMARY KEY  CLUSTERED (ID_ROLES ASC)
go



CREATE TABLE TUTORIA_CURSOS
( 
	ID_TUTORIA_CURSOS    integer IDENTITY ( 1,1 ) ,
	DESCRIPCION          varchar(20)  NULL ,
	ID_INSTITUCION       integer  NULL ,
	ID_USUARIO           integer  NULL ,
	ID_CURSO             integer  NULL ,
	FECHA_HORA           varchar(200)  NOT NULL 
)
go



ALTER TABLE TUTORIA_CURSOS
	ADD CONSTRAINT XPKTUTORIA_CURSOS PRIMARY KEY  CLUSTERED (ID_TUTORIA_CURSOS ASC)
go



CREATE TABLE USUARIOS
( 
	ID_USUARIO           integer IDENTITY ( 1,1 ) ,
	CEDULA               varchar(20)  NULL ,
	NOMBRE               varchar(20)  NULL ,
	APELLIDO1            varchar(20)  NOT NULL ,
	APELLIDO2            varchar(20)  NULL ,
	TELEFONO             varchar(20)  NULL ,
	CORREO               varchar(200)  NULL ,
	ID_ROLES             integer  NULL 
)
go



ALTER TABLE USUARIOS
	ADD CONSTRAINT XPKUSUARIOS PRIMARY KEY  CLUSTERED (ID_USUARIO ASC)
go




ALTER TABLE CALIFICACION_TUTORIA
	ADD CONSTRAINT R_54 FOREIGN KEY (ID_TUTORIA_CURSOS) REFERENCES TUTORIA_CURSOS(ID_TUTORIA_CURSOS)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE CALIFICACION_TUTORIA
	ADD CONSTRAINT R_55 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID_USUARIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE CANTON
	ADD CONSTRAINT R_8 FOREIGN KEY (ID_PROVINCIA) REFERENCES PROVINCIA(ID_PROVINCIA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE DETALLE_DIRECCION__INSTITUCION
	ADD CONSTRAINT R_41 FOREIGN KEY (ID_INSTITUCION) REFERENCES INSTITUCION(ID_INSTITUCION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE DETALLE_DIRECCION__INSTITUCION
	ADD CONSTRAINT R_45 FOREIGN KEY (ID_DISTRITO) REFERENCES DISTRITO(ID_DISTRITO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE DETALLE_DIRECCION__USUARIO
	ADD CONSTRAINT R_13 FOREIGN KEY (ID_DISTRITO) REFERENCES DISTRITO(ID_DISTRITO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE DETALLE_DIRECCION__USUARIO
	ADD CONSTRAINT R_14 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID_USUARIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE DISTRITO
	ADD CONSTRAINT R_9 FOREIGN KEY (ID_CANTON) REFERENCES CANTON(ID_CANTON)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE MATERIAL_TUTORIA
	ADD CONSTRAINT R_50 FOREIGN KEY (ID_TUTORIA_CURSOS) REFERENCES TUTORIA_CURSOS(ID_TUTORIA_CURSOS)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE PROVINCIA
	ADD CONSTRAINT R_7 FOREIGN KEY (ID_PAIS) REFERENCES PAIS(ID_PAIS)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE TUTORIA_CURSOS
	ADD CONSTRAINT R_46 FOREIGN KEY (ID_INSTITUCION) REFERENCES INSTITUCION(ID_INSTITUCION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE TUTORIA_CURSOS
	ADD CONSTRAINT R_47 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID_USUARIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE TUTORIA_CURSOS
	ADD CONSTRAINT R_49 FOREIGN KEY (ID_CURSO) REFERENCES CURSOS(ID_CURSO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE USUARIOS
	ADD CONSTRAINT R_51 FOREIGN KEY (ID_ROLES) REFERENCES ROLES(ID_ROLES)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go


